[Êé•Èõ®Ê∞¥](https://leetcode-cn.com/problems/trapping-rain-water/)

ËøôÊòØÊàëÊé•‰∫Ü‰∏Ä‰∏™‰∏ãÂçàÁöÑÈõ®Ê∞¥üòï 

* ÈùûÂ∏∏Â•ΩÁêÜËß£ÁöÑÊñπÊ≥ïÔºàÂàÜÂ±ÇÔºâ

1. ‰ª•Áü©ÂΩ¢ÁöÑÊúÄÈ´òÈ´òÂ∫¶Êù•ËøõË°åÂàÜÂ±Ç
2. ÊØè‰∏ÄÂ±ÇÂè™Ë¶ÅÂ∞è‰∫éÂΩìÂâçÂ±ÇÊ¨°Êï∞ÔºåÂ∞±ÂèØ‰ª•++

Êó∂Èó¥Â§çÊùÇÂ∫¶Ôºö‰∏§‰∏™forÂæ™ÁéØO(n2)

Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(1)

```
 int MaxHeight=0;
        for(int h:height){
            if(h>MaxHeight){
                MaxHeight=h;
            }
        }
        int water=0;
        for(int i=1;i<=MaxHeight;i++){
            boolean myswitch=false;
            //Áî®tempÊù•ËÆ∞ÂΩïÂΩìÂâçÊàêÊ∞¥ÈáèÔºå
            int temp=0;
            for(int j=0;j<height.length;j++){
                //È´ò‰∫éÂΩìÂâçÂ±Ç‰∫ÜÔºåËØ¥Êòétemp‰∏≠ÁöÑÊ∞¥ÊúâÂè≥ËæπÁïå‰∫ÜÔºåÊâÄ‰ª•Áõ¥Êé•Âä†Âà∞ÁªìÊûúÈáå
                if(height[j]>=i){
                    water+=temp;
                    myswitch=true;
                    temp=0;
                }
                //‰Ωé‰∫éÂΩìÂâçÂ±Çtemp++
                if(height[j]<i&&myswitch){
                    temp++;
                }
            }
        }
        return water;
```

* ÂàÜÂàó

1. ÊâæÂá∫ÂΩìÂâçÂàóÔºåÂ∑¶ËæπÊúÄÈ´ò
2. ÊâæÂá∫ÂΩìÂâçÂàóÂè≥ËæπÊúÄÈ´ò
3. Âè™Ë¶ÅÂΩìÂâçÂàóÊØîÊúÄÂ∑¶ËæπÊúÄÈ´òÂíåÂè≥ËæπÊúÄÈ´òÂ∞èÔºåÂ∞±‰∏ÄÂÆöËÉΩÁõõÊ∞¥

Êó∂Èó¥Â§çÊùÇÂ∫¶Ôºö‰∏§‰∏™ÂµåÂ•óforÂæ™ÁéØO(n2)

Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(1)

```
 int water=0;
        for(int i=1;i<height.length-1;i++){
            int left=height[i-1];
            int right=height[i+1];
            for(int j=i-1;j>=0;j--){
                if(height[j]>left){
                    left=height[j];
                }
            }
            for (int j=i+1;j<height.length;j++){
                if(height[j]>right){
                    right=height[j];
                }
            }
            if(height[i]<Integer.min(left,right)){
                water+=Integer.min(left,right)-height[i];
            }
        }
        return water;
```

* Âä®ÊÄÅËßÑÂàí

1. Ê†πÊçÆ‰∏ä‰∏Ä‰∏™ÊåâÂàóÊù•ÂàÜÔºåÊ±ÇÊØèÂàóÁöÑÂ∑¶ËæπÊúÄÂ§ßÂíåÂè≥ËæπÊúÄÂ§ß,ÂΩìÂâçÂ∑¶ËæπÊúÄÂ§ßÂè≥ËæπÊúÄÂ§ßÔºåÂπ∂‰∏çÂåÖÂê´Ëá™Â∑±
2. Â∑¶ËæπÊúÄÂ§ßdp max_left[i]=Math.max(max_left[i-1],height[i])
3. Âè≥ËæπÊúÄÂ§ßdp max_right[i]=Math.max(max_right[i-1],height[i])

Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöÊ≤°ÊúâÁî®Âà∞ÂµåÂ•óÁöÑforÂæ™ÁéØÔºåO(n)

Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöÁî®Âà∞‰∫ÜÈ¢ùÂ§ñÁöÑÊï∞ÁªÑÁ©∫Èó¥ÔºåO(n)

```
 int [] max_left=new int[height.length];
       int [] max_right=new int[height.length];
       int water=0;
       for(int i=1;i<height.length;i++){
           max_left[i]=Math.max(max_left[i-1],height[i-1]);
       }
       for(int i=height.length-2;i>=0;i--){
           max_right[i]=Math.max(max_right[i+1],height[i+1]);
       }
       int maxnum;
       for(int i=1;i<height.length;i++){
           maxnum=Math.min(max_left[i],max_right[i]);
           int temp=maxnum-height[i];
           if(temp>0){
               water+=temp;
           }
       }
        return water;
```
