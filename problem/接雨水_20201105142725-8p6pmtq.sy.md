[Êé•Èõ®Ê∞¥](https://leetcode-cn.com/problems/trapping-rain-water/)
{: id="20201105143116-uoyy00e"}

ËøôÊòØÊàëÊé•‰∫Ü‰∏Ä‰∏™‰∏ãÂçàÁöÑÈõ®Ê∞¥üòï 
{: id="20201105161153-ygf90rj"}

* {: id="20201105143138-6r4gf7n"}ÈùûÂ∏∏Â•ΩÁêÜËß£ÁöÑÊñπÊ≥ïÔºàÂàÜÂ±ÇÔºâ
{: id="20201105143206-ng3az5q"}

1. {: id="20201105144835-pwqcbqc"}‰ª•Áü©ÂΩ¢ÁöÑÊúÄÈ´òÈ´òÂ∫¶Êù•ËøõË°åÂàÜÂ±Ç
2. {: id="20201105144856-hzxgwdj"}ÊØè‰∏ÄÂ±ÇÂè™Ë¶ÅÂ∞è‰∫éÂΩìÂâçÂ±ÇÊ¨°Êï∞ÔºåÂ∞±ÂèØ‰ª•++
{: id="20201105144835-rb5ubv2"}

Êó∂Èó¥Â§çÊùÇÂ∫¶Ôºö‰∏§‰∏™forÂæ™ÁéØO(n2)
{: id="20201105153351-0ljhaqi"}

Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(1)
{: id="20201105155716-to5laqo"}

```
 int MaxHeight=0;
        for(int h:height){
            if(h>MaxHeight){
                MaxHeight=h;
            }
        }
        int water=0;
        for(int i=1;i<=MaxHeight;i++){
            boolean myswitch=false;
            //Áî®tempÊù•ËÆ∞ÂΩïÂΩìÂâçÊàêÊ∞¥ÈáèÔºå
            int temp=0;
            for(int j=0;j<height.length;j++){
                //È´ò‰∫éÂΩìÂâçÂ±Ç‰∫ÜÔºåËØ¥Êòétemp‰∏≠ÁöÑÊ∞¥ÊúâÂè≥ËæπÁïå‰∫ÜÔºåÊâÄ‰ª•Áõ¥Êé•Âä†Âà∞ÁªìÊûúÈáå
                if(height[j]>=i){
                    water+=temp;
                    myswitch=true;
                    temp=0;
                }
                //‰Ωé‰∫éÂΩìÂâçÂ±Çtemp++
                if(height[j]<i&&myswitch){
                    temp++;
                }
            }
        }
        return water;
```
{: id="20201105144921-2slgpjx"}

* {: id="20201105145653-mfvnxwu"}ÂàÜÂàó
{: id="20201105145653-nc5439g"}

1. {: id="20201105145714-1m8zzth"}ÊâæÂá∫ÂΩìÂâçÂàóÔºåÂ∑¶ËæπÊúÄÈ´ò
2. {: id="20201105145723-elxqh0r"}ÊâæÂá∫ÂΩìÂâçÂàóÂè≥ËæπÊúÄÈ´ò
3. {: id="20201105145737-9k3hr5m"}Âè™Ë¶ÅÂΩìÂâçÂàóÊØîÊúÄÂ∑¶ËæπÊúÄÈ´òÂíåÂè≥ËæπÊúÄÈ´òÂ∞èÔºåÂ∞±‰∏ÄÂÆöËÉΩÁõõÊ∞¥
{: id="20201105145714-e9xj64s"}

Êó∂Èó¥Â§çÊùÇÂ∫¶Ôºö‰∏§‰∏™ÂµåÂ•óforÂæ™ÁéØO(n2)
{: id="20201105153415-gyvjvrp"}

Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(1)
{: id="20201105155732-iltr70z"}

```
 int water=0;
        for(int i=1;i<height.length-1;i++){
            int left=height[i-1];
            int right=height[i+1];
            for(int j=i-1;j>=0;j--){
                if(height[j]>left){
                    left=height[j];
                }
            }
            for (int j=i+1;j<height.length;j++){
                if(height[j]>right){
                    right=height[j];
                }
            }
            if(height[i]<Integer.min(left,right)){
                water+=Integer.min(left,right)-height[i];
            }
        }
        return water;
```
{: id="20201105153309-2sw4j1s"}

* {: id="20201105155320-vbsfhk6"}Âä®ÊÄÅËßÑÂàí
{: id="20201105155320-t6fe182"}

1. {: id="20201105155333-v4rybrj"}Ê†πÊçÆ‰∏ä‰∏Ä‰∏™ÊåâÂàóÊù•ÂàÜÔºåÊ±ÇÊØèÂàóÁöÑÂ∑¶ËæπÊúÄÂ§ßÂíåÂè≥ËæπÊúÄÂ§ß,ÂΩìÂâçÂ∑¶ËæπÊúÄÂ§ßÂè≥ËæπÊúÄÂ§ßÔºåÂπ∂‰∏çÂåÖÂê´Ëá™Â∑±
2. {: id="20201105155356-n9os60g"}Â∑¶ËæπÊúÄÂ§ßdp max_left[i]=Math.max(max_left[i-1],height[i])
3. {: id="20201105155524-fki6567"}Âè≥ËæπÊúÄÂ§ßdp max_right[i]=Math.max(max_right[i-1],height[i])
{: id="20201105155333-vejr3ql"}

Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöÊ≤°ÊúâÁî®Âà∞ÂµåÂ•óÁöÑforÂæ™ÁéØÔºåO(n)
{: id="20201105155740-ccma1u5"}

Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöÁî®Âà∞‰∫ÜÈ¢ùÂ§ñÁöÑÊï∞ÁªÑÁ©∫Èó¥ÔºåO(n)
{: id="20201105155804-0ow0qj1"}

```
 int [] max_left=new int[height.length];
       int [] max_right=new int[height.length];
       int water=0;
       for(int i=1;i<height.length;i++){
           max_left[i]=Math.max(max_left[i-1],height[i-1]);
       }
       for(int i=height.length-2;i>=0;i--){
           max_right[i]=Math.max(max_right[i+1],height[i+1]);
       }
       int maxnum;
       for(int i=1;i<height.length;i++){
           maxnum=Math.min(max_left[i],max_right[i]);
           int temp=maxnum-height[i];
           if(temp>0){
               water+=temp;
           }
       }
        return water;
```
{: id="20201105155608-ie5qcl5"}

{: id="20201105161241-1si878n"}
